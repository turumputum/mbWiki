---
title: Аудио проигрыватель
draft: false
tags:
---
```
[SLOT_0]; only for first slot
mode = audio_player
```
## Описание
Программный модуль для воспроизведения аудио файлов. Поддерживаемый формат .mp3

| Поддерживаемый формат | .mp3     |
| --------------------- | -------- |
| Битрэйт               | 192kbps  |
| Самплрэйт             | 44100khz |
| Количество каналов    | 2        |

## Совместимость
- [[audio_player_mono_hw|Аудио модуль моно]]

## Принцип работы
При запуске контроллер сканирует файловую систему на предмет доступных аудиофайлов, и сортирует их в алфавитном порядке. Проигрывает файлы по команде, рапортует по завершению проигрывания. 

## Опции
- **volume** - *число(float)*, уровень громкости проигрывателя, ==число с плавающей запятой, от нуля до единицы, по умолчанию 0.7==
- **play_delay_ms** - число(int), задержка перед проигрывание звуковой дорожки, целое число в миллисекундах
- **topic** - *строка*, нестандартный топик события и действий

## Топики
Стандартный топик события и действий:
- *"device_name/player_{slot_num}"* - {slot_num} номер слота

## Команды
 - **play** - Запуск проигрывателя. В качестве значения можно передать индекс трека, или приращение, например "+/-1". Также есть спец символ "#" который запускает проигрыватель без изменения индекса.
 - **stop** - Останавливает проигрыватель.
 - **shift** - Смещает указатель. В качестве значения может быть передан абсолютный индекс или приращение, например "+/-1"
 Пример:
 ```ini
 ;проиграть трек с индексом 0 
 module_box/player_0/play:0
```

## События
 - **endOfTrack** - рапортует по окончанию проигрывания трека. В качестве значения передает индекс проигранного трека.

## Примеры
```ini
[SLOT_0]
;модуль в режиме аудиоплеер
mode = audio_player
;громкость 95%, задержка 0.5сек
options = volume:0,95, play_delay_ms:500
;по завершению любого трека проиграть следующий
cross_link = player_0/endOfTrack:#->player_0/play:+1
```
Со спец. символами можно ознакомится в главе [[Software#Специальные символы|"специальные символы"]]
